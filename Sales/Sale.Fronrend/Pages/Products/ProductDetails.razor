@page "/products/details/{ProductId:int}"

<MudPaper Class="p-4">

    @if (loading)
    {
        <Loading />
    }
    else
    {
        <MudCard Elevation="4">
            <MudCardHeader>
                <MudText Typo="Typo.h5">
                    <i class="bi bi-box-seam me-2"></i> @product!.Name
                </MudText>
                <MudSpacer />
                <MudButton Variant="Variant.Outlined" Color="Color.Primary" StartIcon="@Icons.Material.Filled.ArrowBack" Href="/products">
                    Return
                </MudButton>
            </MudCardHeader>

            <MudCardContent>
                <MudGrid>
                    <MudItem xs="12" md="6">
                        <MudStack Spacing="2">
                            <MudText><b>Name:</b> @product.Name</MudText>
                            <MudText><b>Description:</b> @product.Description</MudText>
                            <MudText><b>Price:</b> @($"{product.Price:C2}")</MudText>
                            <MudText><b>Inventory:</b> @($"{product.Stock:N0}")</MudText>
                            <MudText><b>Barcode:</b> @product.Barcode</MudText>

                            <MudText><b>Categories:</b></MudText>
                            <MudChipSet T="string" MultiSelection="true">
                                @foreach (var category in categories!)
                                {
                                    <MudChip Color="Color.Info" Variant="Variant.Filled">@category</MudChip>
                                }
                            </MudChipSet>

                            <MudText><b>Serial Numbers:</b></MudText>
                            <MudChipSet T="string" MultiSelection="true">
                                @foreach (var serial in SerialNumbers!)
                                {
                                    <MudChip Color="Color.Secondary" Variant="Variant.Outlined">@serial</MudChip>
                                }
                            </MudChipSet>
                        </MudStack>
                    </MudItem>

                    <MudItem xs="12" md="6">
                        <CarouselView Images="images" />
                    </MudItem>
                </MudGrid>
            </MudCardContent>
        </MudCard>
    }

</MudPaper>
